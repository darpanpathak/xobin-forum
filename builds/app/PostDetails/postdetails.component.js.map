{"version":3,"sources":["PostDetails/postdetails.component.ts"],"names":[],"mappings":"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","file":"postdetails.component.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { SitemenuComponent } from '../sitemenu/sitemenu.component';\r\nimport { PostsServices } from '../services/Posts.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { SharedServices } from '../services/sharedservices.service';\r\n\r\n@Component({\r\n    selector: 'postdetails',\r\n    providers: [SitemenuComponent],\r\n    moduleId: module.id,\r\n    templateUrl: '../../partials/postdetails.component.html'\r\n})\r\nexport class PostDetailsComponent {\r\n    post: any[];\r\n    comments: any[];\r\n    private sub: any;      // -> Subscriber\r\n    private mode: number;\r\n\r\n    constructor(private postsservice: PostsServices, public route: ActivatedRoute, public sharedServices: SharedServices) { }\r\n\r\n    ngOnInit() {\r\n\r\n        this.post = this.sharedServices.getSelectedPost();\r\n        console.log(this.post);\r\n\r\n        this.sub = this.route\r\n            .params\r\n            .subscribe(params => {\r\n                // Récupération des valeurs de l'URL\r\n                this.mode = params['Id']; // --> Name must match wanted paramter\r\n            });\r\n\r\n        this.postsservice.getPostDetails(this.mode).subscribe(postsdata => {\r\n            this.comments = postsdata;\r\n        });\r\n    }\r\n\r\n    vote(Id: number, type: string) {\r\n        var voteitem = localStorage.getItem(Id.toString());\r\n        if (voteitem === undefined || voteitem === null) {\r\n            if (type === \"up\") localStorage.setItem(Id.toString(), \"1|0\");\r\n            if (type === \"down\") localStorage.setItem(Id.toString(), \"0|1\");\r\n        }\r\n        else {\r\n            if (type === \"up\") {\r\n                var upcount = +voteitem.split('|')[0] + 1;\r\n                localStorage.setItem(Id.toString(), upcount.toString() + \"|\" + voteitem.split('|')[1]);\r\n            }\r\n            if (type === \"down\") {\r\n                var downcount = +voteitem.split('|')[1] + 1;\r\n                localStorage.setItem(Id.toString(), voteitem.split('|')[0] + \"|\" + downcount.toString());\r\n            }\r\n        }\r\n    }\r\n\r\n    getvotecount(Id: number, type: string) {\r\n        var voteitem = localStorage.getItem(Id.toString());\r\n\r\n        if (voteitem === undefined || voteitem === null) {\r\n            return \"0\";\r\n        }\r\n        else {\r\n            if (type === \"up\") return voteitem.split('|')[0];\r\n            if (type === \"down\") return voteitem.split('|')[1];\r\n        }\r\n    }\r\n\r\n\r\n}\r\n"]}
{"version":3,"sources":["home/home.component.ts"],"names":[],"mappings":"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","file":"home.component.js","sourcesContent":["import { Component, Pipe, PipeTransform, ChangeDetectorRef } from '@angular/core';\r\nimport { SitemenuComponent } from '../sitemenu/sitemenu.component';\r\nimport { PostsServices } from '../services/Posts.service';\r\nimport { SharedServices } from '../services/sharedservices.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'home',\r\n    providers: [SitemenuComponent],\r\n    moduleId: module.id,\r\n    templateUrl: '../../partials/home.component.html'\r\n})\r\nexport class HomeComponent {\r\n    posts: any[];\r\n\r\n    constructor(private router: Router, private postsservice: PostsServices, private sharedServices: SharedServices) { }\r\n\r\n    ngOnInit() {\r\n        this.postsservice.getPosts().subscribe(postsdata => {\r\n            this.posts = postsdata.posts.row;\r\n            console.log(postsdata.posts.row);\r\n        });\r\n    }\r\n\r\n    PostDetails(Id: number, post: any) {\r\n\r\n        this.sharedServices.setSelectedPost(post);\r\n        this.router.navigate(['postdetails', Id]);\r\n    }\r\n\r\n    vote(Id: number, type: string) {\r\n        var voteitem = localStorage.getItem(Id.toString());\r\n        if (voteitem === undefined || voteitem === null) {\r\n            if (type === \"up\") localStorage.setItem(Id.toString(), \"1|0\");\r\n            if (type === \"down\") localStorage.setItem(Id.toString(), \"0|1\");\r\n        }\r\n        else {\r\n            if (type === \"up\") {\r\n                var upcount = +voteitem.split('|')[0] + 1;\r\n                localStorage.setItem(Id.toString(), upcount.toString() + \"|\" + voteitem.split('|')[1]);\r\n            }\r\n            if (type === \"down\") {\r\n                var downcount = +voteitem.split('|')[1] + 1;\r\n                localStorage.setItem(Id.toString(), voteitem.split('|')[0] + \"|\" + downcount.toString());\r\n            }\r\n        }\r\n    }\r\n\r\n    getvotecount(Id: number, type: string) {\r\n        var voteitem = localStorage.getItem(Id.toString());\r\n\r\n        if (voteitem === undefined || voteitem === null) {\r\n            return \"0\";\r\n        }\r\n        else {\r\n            if (type === \"up\") return voteitem.split('|')[0];\r\n            if (type === \"down\") return voteitem.split('|')[1];\r\n        }\r\n    }\r\n\r\n}\r\n"]}